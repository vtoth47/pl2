<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Happy Valentine's Day - Valentine, Texas</title>
    
    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
     </style>
    
    <!-- reference the API -->
    <link rel="stylesheet" href="https://js.arcgis.com/4.22/@arcgis/core/assets/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.22/"></script>
    
    <!-- Add modules -->
    <script>
      require(["esri/config",
               "esri/Map",
               "esri/views/MapView",
               "esri/Graphic",
               "esri/layers/GraphicsLayer",
               "esri/widgets/BasemapToggle",
               "esri/widgets/BasemapGallery"
              ], function (esriConfig,Map, MapView, Graphic, GraphicsLayer, BasemapToggle, BasemapGallery) {

        // API key:
        esriConfig.apiKey = "AAPK08d1e927422346eda75df8549b43cac87ZlkvAbUNLArlCN3UILbNtLq3LoFG_CFtR-kvMXCw5KA2ArtynQahbdYVe0cH9fE";

        const map = new Map({
          basemap: "hybrid" // Basemap layer service
        });

        // Create Map View:
        const view = new MapView({
          map: map,
          center: [-104.494, 30.588], // Longitude, latitude
          zoom: 14, // Zoom level
          container: "viewDiv" // Div element
        }); 
        
        // toggle for switching to a different base map
        const basemapToggle = new BasemapToggle({
          view: view,
          nextBasemap: "topo-vector"
        });
        
        view.ui.add(basemapToggle,"bottom-right");
        
        // Add a graphic layer
        const graphicsLayer = new GraphicsLayer();
          map.add(graphicsLayer);
        
        
        // Create a line geometry
       const polyline = {
          type: "polyline",
          paths: [
              [-104.4968891,30.5962891],
              [-104.4995928,30.598173],
              [-104.5034122,30.5985055],
              [-104.5066738,30.5972865],
              [-104.5088625,30.5952178],
              [-104.5090771,30.5913389],
              [-104.5073175,30.5880141],
              [-104.5003223,30.5825093],
              [-104.4931126,30.5782974],
              [-104.4850874,30.583396],
              [-104.478693,30.5897873],
              [-104.4780064,30.5936293],
              [-104.4794226,30.5965846],
              [-104.4820404,30.5982838],
              [-104.4856882,30.5989118],
              [-104.4900227,30.5967324],
              [-104.4938421, 30.5947376],
              [-104.4968891, 30.5962891]
          ]
       };
       const simpleLineSymbol = {
          type: "simple-line",
          color: [255, 0, 154], // pink
          width: 2
       };
       
        // add the above line to the map:
       const polylineGraphic = new Graphic({
          geometry: polyline,
          symbol: simpleLineSymbol
       });
       graphicsLayer.add(polylineGraphic); 
        
       // Create a polygon geometry
       const polygon = {
          type: "polygon",
          rings: [
              [-104.4968891,30.5962891],
              [-104.4995928,30.598173],
              [-104.5034122,30.5985055],
              [-104.5066738,30.5972865],
              [-104.5088625,30.5952178],
              [-104.5090771,30.5913389],
              [-104.5073175,30.5880141],
              [-104.5003223,30.5825093],
              [-104.4931126,30.5782974],
              [-104.4850874,30.583396],
              [-104.478693,30.5897873],
              [-104.4780064,30.5936293],
              [-104.4794226,30.5965846],
              [-104.4820404,30.5982838],
              [-104.4856882,30.5989118],
              [-104.4900227,30.5967324],
              [-104.4938421, 30.5947376],
              [-104.4968891, 30.5962891]
          ]
       };

       const simpleFillSymbol = {
          type: "simple-fill",
          color: [255, 0, 154, 0.2],  // pink, opacity 20%
         // outline: {
         //     color: [255, 255, 255],
         //     width: 1
        //  }
       };        
       
        // add a pop up
       const popupTemplate = {
          title: "{Name}",
          content: "{Description}"
       }
       const attributes = {
          Name: "Greetings",
          Description: "I love Valentine, TX"
       } 
        
        
        
       // add above polygon to map: 
       const polygonGraphic = new Graphic({
          geometry: polygon,
          symbol: simpleFillSymbol,
          attributes: attributes,
          popupTemplate: popupTemplate

       });
       graphicsLayer.add(polygonGraphic); 
        
        
      });
      </script>
    
  </head>
  <body>
    <div id="viewDiv"></div>
  </body>
</html>
